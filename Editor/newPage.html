<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="newPage.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    </head>
    <body class="grey lighten-3">
        <div class="header center-align "><strong>Editor++</strong></div>
        <div class="row">
            <div  class="left-bar col s1 grey darken-4 z-depth-2 white-text">
                <div id="img"><a href="mainEditor.html"><i class="material-icons">first_page</i></a></div>
                <div id="home">Home</div>
                <div id="new">New</div>
                <div id="open">Open</div>
                <div id="save">Save</div>
                <div id="saveas">Save As</div>
                <div id="print">Print</div>
            </div>
            <div class="col s11">
                <div id="loadData">
                    <span id="recent"><b>Recents</b></span>
                    <table id="table-data">
                        <tr>
                            <th>Name</th>
                            <th>Last Modified</th>
                        </tr>
                    </table>
                </div>
            </div>    
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script> 
        <script src="newPage.js">
        </script>
        <script>
            window.onload = function(){
                var table = document.querySelector('#table-data');
                var fileData = fs.readFileSync("data.json");
                var jsonData = JSON.parse(fileData).files;

                var col = ["name", "day"];
                for (var i = 0; i < jsonData.length; i++) {
                    tr = table.insertRow(-1);
                    for (var j = 0; j < col.length; j++) {
                        var cell = tr.insertCell(-1);
                        var filename = jsonData[i][col[j]];
                        var k = filename.length-1;
                        while(k >= 0 && filename[k] != "\\"){
                            k--;
                        }
                        cell.innerHTML = filename.substring(k+1);
                    }
                    table.appendChild(tr);
                }
            }
        </script>
    </body>
</html>